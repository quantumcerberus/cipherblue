name: ciphercore
description: "A Security & Privacy Focused Operating System For Servers"
base-image: quay.io/fedora/fedora-coreos
image-version: stable
modules:
    - type: script
      scripts:
        - common/httpsmirrors.sh
        - server/ciphercore-cleanup.sh
    - type: rpm-ostree
      install:
        - usbguard
        - firewalld
        - policycoreutils-python-utils
      remove:
        - sudo
    - type: files
      files:
        - source: system/server/usr
          destination: /usr
        - source: system/server/etc
          destination: /etc
    - type: script
      scripts:
        - server/ciphercore-cleanup.sh
        - server/authselect-hardening.sh
        - server/ciphercoredefaultzone.sh
        - server/file-permission-hardening.sh
        - server/systemd-services-hardening.sh
        - server/selinux-boolean-hardening.sh
        - common/suid-hardening.sh
    - type: cipherblue-signing
